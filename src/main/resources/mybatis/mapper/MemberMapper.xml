<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bigdeal.incheonerang.member.dao.MemberMapper">

    <select id="selectMemberList" resultType="MemberDTO">
        SELECT *
        FROM MEMBER_TBL
    </select>

    <select id="selectmemberInfoByCode" resultType="MemberDTO">
        SELECT MEMBER_ID,
               MEMBER_EMAIL,
               MEMBER_ADDRESS,
               MEMBER_NATION,
               MEMBER_GENDER,
               MEMBER_LANGUAGE_ABILITY
          FROM MEMBER_TBL
         WHERE MEMBER_ID = #{memberId}
    </select>

    <insert id="insertMember" parameterType="MemberDTO">
        INSERT INTO MEMBER_TBL
        VALUES
            (
                SEQ_MEMBER.NEXTVAL,
                #{memberId},
                #{memberPassword},
                #{memberPhone},
                #{memberEmail},
                #{memberAddress},
                #{memberNation},
                #{memberBirth},
                #{memberGender},
                #{memberLanguageAbility}
            )
    </insert>

    <update id="updateMember">
        UPDATE MEMBER_TBL
        SET MEMBER_ID= #{memberId},
            MEMBER_PASSWORD = #{memberPassword},
            MEMBER_PHONE = #{memberPhone},
            MEMBER_EMAIL = #{memberEmail},
            MEMBER_ADDRESS = #{memberAddress},
            MEMBER_NATION = #{memberNation},
            MEMBER_LANGUAGE_ABILITY = #{memberLanguageAbility}
        WHERE MEMBER_CODE = #{memberCode}
    </update>

    <delete id="deleteMember">
        DELETE FROM MEMBER_TBL
        WHERE MEMBER_CODE = #{memberCode}
    </delete>

    <select id="login" resultType="String" parameterType="MemberDTO">
        SELECT MEMBER_ID
        FROM MEMBER_TBL
        WHERE MEMBER_ID = #{memberId}
          AND MEMBER_PASSWORD = #{memberPassword}
    </select>

</mapper>